<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Congregational Church Of All Nations â€” Founder: Ndivho Brandon Tshikota</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    body {margin:0; font-family:Inter,sans-serif; background:#0b1020; color:#e9eefc;}
    .container{max-width:1100px;margin:auto;padding:24px}
    .card{background:#121832;border-radius:14px;padding:16px}
    h3{margin:0 0 12px;font-size:24px}

    /* Gallery */
    .gallery-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}
    .gallery-grid img{width:100%;border-radius:12px;cursor:pointer}
    @media(max-width:992px){.gallery-grid{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:600px){.gallery-grid{grid-template-columns:1fr}}

    /* Lightbox */
    #lightbox{display:none;position:fixed;z-index:9999;top:0;left:0;width:100%;height:100%;
      background:rgba(0,0,0,0.9);justify-content:center;align-items:center;flex-direction:row;text-align:center}
    .lightbox-content{max-width:90%;max-height:85%}
    #lightbox img{max-width:100%;max-height:75vh;border-radius:16px}
    #lightbox-caption{margin-top:12px;font-size:1rem;color:#f1f1f1}
    #lightbox #close{position:absolute;top:20px;right:30px;font-size:40px;color:#fff;cursor:pointer}
    #lightbox #prev,#lightbox #next{cursor:pointer;position:absolute;top:50%;font-size:60px;color:white;
      padding:10px;user-select:none;transform:translateY(-50%)}
    #lightbox #prev{left:30px} #lightbox #next{right:30px}
  </style>
</head>
<body>
  <div class="container">
    <div class="card">
      <h3>Gallery</h3>
      <div class="gallery-grid">
        <figure class="card">
          <img src="Brandon with Prophet Makananise.jpg" alt="Brandon Tshikota with Prophet Makananise" class="gallery-img"/>
          <figcaption class="muted">With Prophet Makananise</figcaption>
        </figure>
        <figure class="card">
          <img src="Brendon Tshikota.jpg" alt="Pastor Brendon Tshikota in a suit" class="gallery-img"/>
          <figcaption class="muted">Pastor Ndivho Brandon Tshikota</figcaption>
        </figure>
        <figure class="card">
          <img src="Brendon wife and Kids.jpg" alt="Brendon's wife and kids during celebration" class="gallery-img"/>
          <figcaption class="muted">Murunwa Mashamba (Wife) with children</figcaption>
        </figure>
      </div>
    </div>
  </div>

  <!-- Lightbox -->
  <div id="lightbox">
    <span id="close">&times;</span>
    <span id="prev">&#10094;</span>
    <div class="lightbox-content">
      <img id="lightbox-img" src="" alt="Expanded view">
      <p id="lightbox-caption"></p>
    </div>
    <span id="next">&#10095;</span>
  </div>

<script>
  const lightbox=document.getElementById('lightbox');
  const lightboxImg=document.getElementById('lightbox-img');
  const lightboxCaption=document.getElementById('lightbox-caption');
  const closeBtn=document.getElementById('close');
  const prevBtn=document.getElementById('prev');
  const nextBtn=document.getElementById('next');

  let images=[]; let captions=[]; let currentIndex=0;

  document.querySelectorAll('.gallery-img').forEach((img,index)=>{
    images.push(img);
    const caption=img.closest('figure').querySelector('figcaption')?.innerText||"";
    captions.push(caption);
    img.addEventListener('click',()=>{currentIndex=index;showImage();lightbox.style.display='flex'});
  });

  function showImage(){lightboxImg.src=images[currentIndex].src;lightboxCaption.textContent=captions[currentIndex];}

  prevBtn.addEventListener('click',()=>{currentIndex=(currentIndex-1+images.length)%images.length;showImage()});
  nextBtn.addEventListener('click',()=>{currentIndex=(currentIndex+1)%images.length;showImage()});
  closeBtn.addEventListener('click',()=>lightbox.style.display='none');
  lightbox.addEventListener('click',(e)=>{if(e.target===lightbox)lightbox.style.display='none'});

  document.addEventListener('keydown',(e)=>{
    if(lightbox.style.display==='flex'){
      if(e.key==='ArrowRight')nextBtn.click();
      if(e.key==='ArrowLeft')prevBtn.click();
      if(e.key==='Escape')closeBtn.click();
    }
  });

  // Swipe support
  let startX=0,endX=0;
  lightbox.addEventListener('touchstart',(e)=>{startX=e.changedTouches[0].screenX;});
  lightbox.addEventListener('touchend',(e)=>{endX=e.changedTouches[0].screenX;handleSwipe();});
  function handleSwipe(){
    const dist=endX-startX;
    if(Math.abs(dist)>50){
      if(dist<0){nextBtn.click();}else{prevBtn.click();}
    }
  }
</script>
</body>
</html>
